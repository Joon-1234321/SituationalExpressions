<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sentence Flashcards</title>
<style>
  * { box-sizing: border-box; }
  body {
    font-family: Arial, sans-serif;
    background: #f0faff;
    display: flex;
    flex-direction: column; /* 한 줄에 카드 1개 */
    align-items: center;
    padding: 20px;
  }
  .card {
    width: 95%;
    max-width: 1000px;
    min-height: 120px;
    perspective: 1000px;
    margin: 12px 0;
    cursor: pointer;
  }
  .card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    transform-origin: center center; /* 중심 고정 */
    will-change: transform;
  }
  .card.flipped .card-inner {
    transform: rotateY(180deg);
  }
  .card-face {
    position: absolute;
    width: 100%;
    min-height: 120px;
    border-radius: 12px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    font-size: 22px;
    line-height: 1.45em;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    word-wrap: break-word;
    white-space: normal;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden; /* iOS/Safari 안정화 */
    border: 2px solid transparent; /* 앞/뒤 동일 두께 */
  }
  .card-front {
    color: #fff;
  }
  .card-back {
    background: #e6f0ff; /* 뒷면: 흰색 대신 연파랑 */
    color: #222;
    transform: rotateY(180deg);
    border-color: #aac; /* 테두리 색만 변경 */
  }
</style>
</head>
<body>

<script>
const sentences = [
  { en: "Jina and Minho had a small misunderstanding after a group project.", ko: "지나와 민호는 모둠 프로젝트 후 작은 오해가 있었다." },
  { en: "To apologize felt scary, but Jina knew it was right.", ko: "사과하는 것이 두려웠지만, 지나는 그것이 옳다는 것을 알았다." },
  { en: "She wrote a note to say sorry and waited by the gym.", ko: "그녀는 사과 쪽지를 써서 체육관 옆에서 기다렸다." },
  { en: "Minho came out, surprised to see her there.", ko: "민호는 그녀가 있는 것을 보고 놀라며 나왔다." },
  { en: "Jina said, “My wish is to rebuild our friendship.”", ko: "지나는 말했다. “내 소원은 우리의 우정을 다시 쌓는 거야.”" },
  { en: "He took a breath.", ko: "그는 숨을 고르며 말했다." },
  { en: "“I was upset, too.", ko: "“나도 속상했어." },
  { en: "I need a friend to trust, not just a partner to finish homework.”", ko: "나는 단순히 숙제를 끝낼 파트너가 아니라 믿을 수 있는 친구가 필요해.”" },
  { en: "They walked slowly to clear the air.", ko: "그들은 오해를 풀기 위해 천천히 걸었다." },
  { en: "Jina explained her mistake and thanked him for listening.", ko: "지나는 자신의 실수를 설명하고 들어줘서 고맙다고 했다." },
  { en: "Minho smiled. “This is a good chance to start again.”", ko: "민호는 미소 지었다. “다시 시작할 좋은 기회야.”" },
  { en: "They made a simple plan:", ko: "그들은 간단한 계획을 세웠다:" },
  {
    en: "meet twice a week to study, text after class to avoid confusion, and take turns to check how the other feels.",
    ko: "일주일에 두 번 만나 공부하고, 수업 후에 문자하며 혼란을 피하고, 서로의 기분을 확인하기 위해 번갈아 연락하기.",
    multilineByComma: true
  },
  { en: "It wasn’t perfect, but it was sincere.", ko: "완벽하지는 않았지만 진심이었다." },
  { en: "Sometimes the bravest choice is to try again—and to choose kindness.", ko: "때로는 가장 용기 있는 선택은 다시 시도하고, 친절을 선택하는 것이다." }
];

const colors = ["#3a78d4", "#2e8b57"]; // 짙은 파랑, 짙은 초록

function speak(text) {
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = "en-US";
  speechSynthesis.cancel(); // 연발음 시 중첩 방지
  speechSynthesis.speak(utter);
}

sentences.forEach((s, i) => {
  const card = document.createElement("div");
  card.className = "card";

  // 표시용 텍스트(줄바꿈 처리)
  const enDisplay = s.multilineByComma ? s.en.replace(/, /g, ",<br>") : s.en;
  const koDisplay = s.multilineByComma ? s.ko.replace(/, /g, ",<br>") : s.ko;

  card.innerHTML = `
    <div class="card-inner">
      <div class="card-face card-front" style="background:${colors[i%2]}">
        <div>${enDisplay}</div>
      </div>
      <div class="card-face card-back">
        <div>${koDisplay}</div>
      </div>
    </div>
  `;
  card.addEventListener("click", () => {
    speak(s.en); // 원문으로 읽기 (줄바꿈 태그 제외)
    card.classList.toggle("flipped");
  });
  document.body.appendChild(card);
});
</script>

</body>
</html>
